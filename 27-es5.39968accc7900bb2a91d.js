!function(){function e(t,i){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,i)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=r(e);if(t){var c=r(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"7UCR":function(i,r,a){"use strict";a.r(r),a.d(r,"UserModule",(function(){return Ht}));var o,s=a("Tx//"),d=a("tyNb"),u=a("P+IX"),l=a("ogYm"),f=a("mrSG"),m=a("QQG4"),p=a("DCw8"),h=a("QmLB"),v=a("Vbab"),b=a("zkTT"),g=a("qXBG"),y=a("fXoL"),w=((o=function(){function e(t,i,r,a){n(this,e),this.authService=t,this.errorService=i,this.router=r,this.snackbar=a,this.initLoading=!1,this.saveLoading=!1,this.user=null}return c(e,[{key:"doInit",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.user=null,this.initLoading=!0,t.t0=e,!t.t0){t.next=8;break}return t.next=7,p.a.find(e);case 7:this.user=t.sent;case 8:this.initLoading=!1,t.next=14;break;case 11:t.prev=11,t.t1=t.catch(0),this.errorService.handle(t.t1),this.user=null,this.initLoading=!1,this.router.navigate(["/user"]);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"doAdd",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.saveLoading=!0,t.next=4,p.a.create(e);case 4:this.saveLoading=!1,this.snackbar.success(Object(v.d)("user.doAddSuccess")),this.router.navigate(["/user"]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.errorService.handle(t.t0),this.saveLoading=!1;case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}},{key:"doUpdate",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.saveLoading=!0,t.next=4,p.a.edit(e);case 4:if(this.saveLoading=!1,t.t0=this.authService.currentUser.id===e.id,!t.t0){t.next=9;break}return t.next=9,this.authService.doRefreshCurrentUser();case 9:this.snackbar.success(Object(v.d)("user.doUpdateSuccess")),this.router.navigate(["/user"]),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(0),this.errorService.handle(t.t1),this.saveLoading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,13]])})))}}]),e}()).\u0275fac=function(e){return new(e||o)(y.Rc(g.a),y.Rc(h.a),y.Rc(d.b),y.Rc(b.a))},o.\u0275prov=y.Dc({token:o,factory:o.\u0275fac,providedIn:"root"}),o),k=a("rXYk"),x=a("3Pt+"),I=a("APW9"),N=a("UDmo"),S=a("ofXK"),M=a("Xa2L"),L=a("kmnG"),O=a("qFsG"),R=a("d3UM"),T=a("vFJ8"),D=a("bTqV"),j=a("NFeN"),P=a("FKr1");function C(e,t){1&e&&(y.Nc(0,"div",6),y.Ic(1,"mat-spinner",7),y.Mc())}function F(e,t){if(1&e&&(y.Nc(0,"mat-option",25),y.yd(1),y.Mc()),2&e){var i=t.$implicit;y.dd("value",i.value),y.wc(1),y.zd(i.label)}}var A=function(){return["/user"]};function X(e,t){if(1&e){var i=y.Oc();y.Nc(0,"form",8,9),y.Tc("ngSubmit",(function(){return y.od(i),y.Xc().doSave()})),y.Nc(2,"mat-form-field",10),y.Nc(3,"mat-label"),y.yd(4),y.Mc(),y.Ic(5,"input",11),y.Mc(),y.Nc(6,"mat-form-field",10),y.Nc(7,"mat-label"),y.yd(8),y.Mc(),y.Nc(9,"mat-select",12),y.xd(10,F,2,2,"mat-option",13),y.Mc(),y.Nc(11,"mat-error"),y.Ic(12,"app-validations",14),y.Mc(),y.Mc(),y.Nc(13,"div",15),y.Nc(14,"button",16),y.Ic(15,"mat-icon",17),y.yd(16,"\xa0 "),y.Ic(17,"app-i18n",18),y.Mc(),y.Nc(18,"button",19),y.Tc("click",(function(){return y.od(i),y.Xc().doReset()})),y.Ic(19,"mat-icon",20),y.yd(20,"\xa0 "),y.Ic(21,"app-i18n",21),y.Mc(),y.Nc(22,"button",22),y.Ic(23,"mat-icon",23),y.yd(24,"\xa0 "),y.Ic(25,"app-i18n",24),y.Mc(),y.Mc(),y.Mc()}if(2&e){var r=y.Xc();y.dd("formGroup",r.form),y.wc(4),y.zd(r.fields.email.label),y.wc(1),y.dd("value",r.user.email)("disabled",!0),y.wc(3),y.zd(r.fields.roles.label),y.wc(1),y.dd("formControlName",r.fields.roles.name)("required",r.fields.roles.required),y.wc(1),y.dd("ngForOf",r.fields.roles.options),y.wc(2),y.dd("control",r.form.get(r.fields.roles.name))("label",r.fields.roles.label),y.wc(2),y.dd("disabled",r.saveLoading),y.wc(4),y.dd("disabled",r.saveLoading),y.wc(4),y.dd("disabled",r.saveLoading)("routerLink",y.gd(14,A))}}var H,B,E,K,_=((H=function(){function e(t,i,r,a){n(this,e),this.service=t,this.formBuilder=i,this.route=r,this.authService=a,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu"),"/user"],[Object(v.d)("user.edit.title")]]}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.doInit(this.route.snapshot.paramMap.get("id"));case 2:this.buildSchema(),this.buildForm();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"doSave",value:function(){if(this.form.valid){var e=this.schema.cast(this.form.value);return delete e.email,this.service.doUpdate(Object.assign({id:this.user.id},e))}}},{key:"doReset",value:function(){this.buildForm()}},{key:"buildForm",value:function(){this.form=this.schema.buildForm(this.service.user)}},{key:"buildSchema",value:function(){this.schema=new k.a([this.fields.email,this.fields.roles],this.formBuilder)}},{key:"fields",get:function(){return m.a.fields}},{key:"initLoading",get:function(){return this.service.initLoading}},{key:"saveLoading",get:function(){return this.service.saveLoading}},{key:"user",get:function(){return this.service.user}}]),e}()).\u0275fac=function(e){return new(e||H)(y.Hc(w),y.Hc(x.d),y.Hc(d.a),y.Hc(g.a))},H.\u0275cmp=y.Bc({type:H,selectors:[["app-user-edit-form"]],decls:6,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.edit.title"],["class","app-page-spinner",4,"ngIf"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"app-page-spinner"],["color","accent"],[1,"form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["floatLabel","always","appearance","outline"],["matInput","",3,"value","disabled"],["multiple","",3,"formControlName","required"],[3,"value",4,"ngFor","ngForOf"],[3,"control","label"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","far","fontIcon","fa-save"],["key","common.save"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],["mat-flat-button","","color","warn","type","button",3,"disabled","routerLink"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.cancel"],[3,"value"]],template:function(e,t){1&e&&(y.Ic(0,"app-breadcrumb",0),y.Nc(1,"div",1),y.Nc(2,"h1",2),y.Ic(3,"app-i18n",3),y.Mc(),y.xd(4,C,2,0,"div",4),y.xd(5,X,26,15,"form",5),y.Mc()),2&e&&(y.dd("items",t.breadcrumb),y.wc(4),y.dd("ngIf",t.initLoading),y.wc(1),y.dd("ngIf",t.form&&!t.initLoading))},directives:[I.a,N.a,S.k,M.b,x.s,x.n,x.h,L.c,L.f,O.b,R.a,x.m,x.g,x.q,S.j,L.b,T.a,D.b,j.a,d.c,P.o],encapsulation:2}),H),z=a("zdBv"),q=((B=function(){function e(t){n(this,e),this.authService=t,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu"),"/user"],[Object(v.d)("user.importer.title")]]}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||B)(y.Hc(g.a))},B.\u0275cmp=y.Bc({type:B,selectors:[["app-user-importer"]],decls:5,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.importer.title"]],template:function(e,t){1&e&&(y.Ic(0,"app-breadcrumb",0),y.Nc(1,"div",1),y.Nc(2,"h1",2),y.Ic(3,"app-i18n",3),y.Mc(),y.Ic(4,"app-importer"),y.Mc()),2&e&&y.dd("items",t.breadcrumb)},directives:[I.a,N.a,z.a],encapsulation:2}),B),G=m.a.fields,$=[G.id,G.email,G.fullName,G.phoneNumber,G.avatars,G.roles,G.status,G.createdAt],U=a("Oxlt"),Q=a("0EQZ"),J=((E=function(){function e(t,i){n(this,e),this.errorService=t,this.snackbar=i,this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.selectedKeys=new Q.c(!0,[]),this.exportLoading=!1,this.unlimited=!1}return c(e,[{key:"doResetSelectedKeys",value:function(){this.selectedKeys=new Q.c(!0,[])}},{key:"doReset",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.doResetSelectedKeys(),this.exportLoading=!1,this.doFetch()));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"doExport",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.exportLoading=!0,t=this.filter,e.next=5,p.a.fetchUsers(t,this.orderBy,null,null);case 5:i=e.sent,new U.a($,Object(v.d)("user.users.exporterFileName")).transformAndExportAsExcelFile(i.rows),this.exportLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorService.handle(e.t0),this.exportLoading=!1;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))}},{key:"doChangePagination",value:function(e){this._pagination=e,this.doFetch(this.filter,!0)}},{key:"doChangeSort",value:function(e){this.sorter=e?{columnKey:e.active,order:e.direction}:{},this.doFetch(this.filter,!0)}},{key:"doFetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,this.loading=!0,this.rows=[],this.count=0,t||(this._pagination={}),this.filter=e||{},this.doResetSelectedKeys(),i.next=4,p.a.fetchUsers(e,this.orderBy,this.limit,this.offset);case 4:r=i.sent,this.rows=r.rows,this.count=r.count,this.loading=!1,i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),this.errorService.handle(i.t0),this.loading=!1,this.rows=[],this.count=0;case 11:case"end":return i.stop()}}),i,this,[[0,8]])})))}},{key:"hasRows",get:function(){return this.count>0}},{key:"orderBy",get:function(){var e=this.sorter;return e&&e.columnKey?"".concat(e.columnKey,"_").concat("desc"===e.order?"DESC":"ASC"):null}},{key:"limit",get:function(){if(this.unlimited)return 0;var e=this._pagination;return e&&e.pageSize?e.pageSize:10}},{key:"offset",get:function(){if(this.unlimited)return 0;var e=this._pagination;return e&&e.pageSize?e.pageIndex*e.pageSize:0}},{key:"pagination",get:function(){return!this.unlimited&&Object.assign(Object.assign({},this._pagination),{total:this.count,showSizeChanger:!0})}},{key:"paginationPageSize",get:function(){return this._pagination&&this._pagination.pageSize?this._pagination.pageSize:10}},{key:"paginationPageIndex",get:function(){return this._pagination&&this._pagination.pageIndex?this._pagination.pageIndex:0}},{key:"selectedRows",get:function(){var e=this;return this.rows.filter((function(t){return e.selectedKeys.isSelected(t.id)}))}}]),e}()).\u0275fac=function(e){return new(e||E)(y.Rc(h.a),y.Rc(b.a))},E.\u0275prov=y.Dc({token:E,factory:E.\u0275fac,providedIn:"root"}),E),V=a("VGjC"),Z=a("6SvT"),Y=((K=function(){function e(t,i,r,a){n(this,e),this.errorService=t,this.snackbar=i,this.router=r,this.userListService=a,this.loading=!1}return c(e,[{key:"doDestroy",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,p.a.destroy([e]);case 4:return this.loading=!1,this.snackbar.success(Object(v.d)("user.doDestroySuccess")),this.router.navigate(["/user"]),t.next=9,this.userListService.doFetch(this.userListService.filter);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),this.errorService.handle(t.t0),this.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}},{key:"doDestroyAll",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,p.a.destroy(e);case 4:return this.loading=!1,this.userListService.doResetSelectedKeys(),this.snackbar.success(Object(v.d)("user.doDestroyAllSuccess")),this.router.navigate(["/user"]),t.abrupt("return",this.userListService.doFetch(this.userListService.filter));case 11:t.prev=11,t.t0=t.catch(0),this.errorService.handle(t.t0),this.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[0,11]])})))}}]),e}()).\u0275fac=function(e){return new(e||K)(y.Rc(h.a),y.Rc(b.a),y.Rc(d.b),y.Rc(J))},K.\u0275prov=y.Dc({token:K,factory:K.\u0275fac,providedIn:"root"}),K),W=a("Qu3c");function ee(e,t){1&e&&(y.Nc(0,"button",10),y.Ic(1,"mat-icon",11),y.yd(2,"\xa0 "),y.Ic(3,"app-i18n",12),y.Mc()),2&e&&y.dd("routerLink","/user/new")}function te(e,t){1&e&&(y.Nc(0,"button",10),y.Ic(1,"mat-icon",13),y.yd(2,"\xa0 "),y.Ic(3,"app-i18n",14),y.Mc()),2&e&&y.dd("routerLink","/user/import")}function ie(e,t){if(1&e){var i=y.Oc();y.Nc(0,"span",6),y.Nc(1,"button",15),y.Tc("click",(function(){return y.od(i),y.Xc().doDestroyAllSelected()})),y.Ic(2,"mat-icon",16),y.yd(3,"\xa0 "),y.Ic(4,"app-i18n",17),y.Mc(),y.Mc()}if(2&e){var r=y.Xc();y.dd("matTooltip",r.destroyButtonTooltip),y.wc(1),y.dd("disabled",r.destroyButtonDisabled)}}var re=function(){return["/audit-log"]},ne=function(){return{entityNames:"user"}};function ae(e,t){1&e&&(y.Nc(0,"button",18),y.Ic(1,"mat-icon",19),y.yd(2,"\xa0 "),y.Ic(3,"app-i18n",20),y.Mc()),2&e&&y.dd("routerLink",y.gd(2,re))("queryParams",y.gd(3,ne))}var ce,oe=((ce=function(){function e(t,i,r,a){n(this,e),this.service=t,this.userService=i,this.destroyService=r,this.auditLogService=a}return c(e,[{key:"doExport",value:function(){return this.service.doExport()}},{key:"doDestroyAllSelected",value:function(){return this.destroyService.doDestroyAll(this.service.selectedRows.map((function(e){return e.id})))}},{key:"hasPermissionToAuditLogs",get:function(){return this.auditLogService.hasPermissionToRead}},{key:"hasPermissionToCreate",get:function(){return this.userService.hasPermissionToCreate}},{key:"hasPermissionToEdit",get:function(){return this.userService.hasPermissionToEdit}},{key:"hasPermissionToImport",get:function(){return this.userService.hasPermissionToImport}},{key:"hasPermissionToDestroy",get:function(){return this.userService.hasPermissionToDestroy}},{key:"exportButtonDisabled",get:function(){return!this.service.hasRows||this.service.loading||this.service.exportLoading}},{key:"exportButtonTooltip",get:function(){if(!this.service.hasRows)return Object(v.d)("common.noDataToExport")}},{key:"destroyButtonDisabled",get:function(){return this.service.selectedKeys.isEmpty()||this.service.loading}},{key:"destroyButtonTooltip",get:function(){if(this.service.selectedKeys.isEmpty())return Object(v.d)("common.mustSelectARow")}}]),e}()).\u0275fac=function(e){return new(e||ce)(y.Hc(J),y.Hc(V.a),y.Hc(Y),y.Hc(Z.a))},ce.\u0275cmp=y.Bc({type:ce,selectors:[["app-user-list-toolbar"]],decls:12,vars:6,consts:[[1,"app-page-toolbar"],[1,"row"],[1,"col-md-12"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],[3,"matTooltip"],["mat-raised-button","","color","primary",3,"disabled","click"],["inline","","fontSet","far","fontIcon","fa-file-excel"],["key","common.export"],["mat-raised-button","","color","primary",3,"routerLink"],["fontSet","fas","fontIcon","fa-envelope","inline",""],["key","user.invite"],["inline","","fontSet","fas","fontIcon","fa-file-import"],["key","common.import"],["mat-raised-button","","color","warn",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-times"],["key","common.destroy"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"]],template:function(e,t){1&e&&(y.Nc(0,"div",0),y.Nc(1,"div",1),y.Nc(2,"div",2),y.xd(3,ee,4,1,"button",3),y.xd(4,te,4,1,"button",3),y.xd(5,ie,5,2,"span",4),y.xd(6,ae,4,4,"button",5),y.Nc(7,"span",6),y.Nc(8,"button",7),y.Tc("click",(function(){return t.doExport()})),y.Ic(9,"mat-icon",8),y.yd(10,"\xa0 "),y.Ic(11,"app-i18n",9),y.Mc(),y.Mc(),y.Mc(),y.Mc(),y.Mc()),2&e&&(y.wc(3),y.dd("ngIf",t.hasPermissionToCreate),y.wc(1),y.dd("ngIf",t.hasPermissionToImport),y.wc(1),y.dd("ngIf",t.hasPermissionToDestroy),y.wc(1),y.dd("ngIf",t.hasPermissionToAuditLogs),y.wc(1),y.dd("matTooltip",t.exportButtonTooltip),y.wc(1),y.dd("disabled",t.exportButtonDisabled))},directives:[S.k,W.a,D.b,j.a,N.a,d.c],encapsulation:2}),ce),se=a("6qfu"),de=a("cscj");function ue(e,t){if(1&e&&(y.Nc(0,"mat-option",19),y.yd(1),y.Mc()),2&e){var i=t.$implicit;y.dd("value",i.id),y.wc(1),y.Ad(" ",i.label," ")}}function le(e,t){if(1&e&&(y.Nc(0,"mat-option",19),y.yd(1),y.Mc()),2&e){var i=t.$implicit;y.dd("value",i.value),y.wc(1),y.Ad(" ",i.label," ")}}function fe(e,t){if(1&e){var i=y.Oc();y.Nc(0,"form",3,4),y.Tc("ngSubmit",(function(){return y.od(i),y.Xc().doFilter()})),y.Nc(2,"div",5),y.Nc(3,"div",6),y.Nc(4,"mat-form-field",7),y.Nc(5,"mat-label"),y.yd(6),y.Mc(),y.Ic(7,"input",8),y.Nc(8,"mat-error"),y.Ic(9,"app-validations",9),y.Mc(),y.Mc(),y.Mc(),y.Nc(10,"div",6),y.Nc(11,"mat-form-field",7),y.Nc(12,"mat-label"),y.yd(13),y.Mc(),y.Ic(14,"input",8),y.Nc(15,"mat-error"),y.Ic(16,"app-validations",9),y.Mc(),y.Mc(),y.Mc(),y.Nc(17,"div",6),y.Nc(18,"mat-form-field",7),y.Nc(19,"mat-label"),y.yd(20),y.Mc(),y.Nc(21,"mat-select",10),y.Nc(22,"mat-option"),y.yd(23,"--"),y.Mc(),y.xd(24,ue,2,2,"mat-option",11),y.Mc(),y.Nc(25,"mat-error"),y.Ic(26,"app-validations",9),y.Mc(),y.Mc(),y.Mc(),y.Nc(27,"div",6),y.Nc(28,"mat-form-field",7),y.Nc(29,"mat-label"),y.yd(30),y.Mc(),y.Nc(31,"mat-select",10),y.Nc(32,"mat-option"),y.yd(33,"--"),y.Mc(),y.xd(34,le,2,2,"mat-option",11),y.Mc(),y.Nc(35,"mat-error"),y.Ic(36,"app-validations",9),y.Mc(),y.Mc(),y.Mc(),y.Mc(),y.Nc(37,"div",12),y.Nc(38,"button",13),y.Ic(39,"mat-icon",14),y.yd(40,"\xa0 "),y.Ic(41,"app-i18n",15),y.Mc(),y.Nc(42,"button",16),y.Tc("click",(function(){return y.od(i),y.Xc().doReset()})),y.Ic(43,"mat-icon",17),y.yd(44,"\xa0 "),y.Ic(45,"app-i18n",18),y.Mc(),y.Mc(),y.Mc()}if(2&e){var r=y.Xc();y.dd("formGroup",r.form),y.wc(6),y.zd(r.fields.email.label),y.wc(1),y.dd("formControlName",r.fields.email.name),y.wc(2),y.dd("control",r.form.get(r.fields.email.name))("label",r.fields.email.label),y.wc(4),y.zd(r.fields.fullName.label),y.wc(1),y.dd("formControlName",r.fields.fullName.name),y.wc(2),y.dd("control",r.form.get(r.fields.fullName.name))("label",r.fields.fullName.label),y.wc(4),y.zd(r.fields.status.label),y.wc(1),y.dd("formControlName",r.fields.status.name),y.wc(3),y.dd("ngForOf",r.fields.status.options),y.wc(2),y.dd("control",r.form.get(r.fields.status.name))("label",r.fields.status.label),y.wc(4),y.zd(r.fields.role.label),y.wc(1),y.dd("formControlName",r.fields.role.name),y.wc(3),y.dd("ngForOf",r.fields.role.options),y.wc(2),y.dd("control",r.form.get(r.fields.role.name))("label",r.fields.role.label),y.wc(2),y.dd("disabled",r.loading),y.wc(4),y.dd("disabled",r.loading)}}var me,pe=((me=function(){function e(t,i,r){n(this,e),this.service=t,this.formBuilder=i,this.route=r,this.expanded=!1}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.buildSchema(),this.buildForm(),this.doFilter();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"doToggleExpanded",value:function(){this.expanded=!this.expanded}},{key:"doFilter",value:function(){if(this.form.valid){this.expanded=!1;var e=this.schema.cast(this.form.value);return this.service.doFetch(e)}}},{key:"buildForm",value:function(){var e=this.service.filter;this.form=this.schema.buildForm(e,this.route.snapshot.queryParams)}},{key:"doReset",value:function(){this.form=this.schema.buildForm(),this.service.doReset(),this.expanded=!1}},{key:"buildSchema",value:function(){this.schema=new se.a([this.fields.fullName,this.fields.email,this.fields.role,this.fields.status],this.formBuilder)}},{key:"fields",get:function(){return m.a.fields}},{key:"loading",get:function(){return this.service.loading}}]),e}()).\u0275fac=function(e){return new(e||me)(y.Hc(J),y.Hc(x.d),y.Hc(d.a))},me.\u0275cmp=y.Bc({type:me,selectors:[["app-user-list-filter"]],decls:3,vars:4,consts:[[1,"filter"],[3,"values","fields","expanded","click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-xs-12","col-lg-6"],["floatLabel","always","appearance","outline"],["matInput","",3,"formControlName"],[3,"control","label"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","fas","fontIcon","fa-search"],["key","common.search"],["mat-flat-button","","color","accent","type","button",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"],[3,"value"]],template:function(e,t){1&e&&(y.Nc(0,"div",0),y.Nc(1,"app-filter-preview",1),y.Tc("click",(function(){return t.doToggleExpanded()})),y.Mc(),y.xd(2,fe,46,21,"form",2),y.Mc()),2&e&&(y.wc(1),y.dd("values",t.form.value)("fields",t.fields)("expanded",t.expanded),y.wc(1),y.dd("ngIf",t.form&&t.expanded))},directives:[de.a,S.k,x.s,x.n,x.h,L.c,L.f,O.b,x.c,x.m,x.g,L.b,T.a,R.a,P.o,S.j,D.b,j.a,N.a],encapsulation:2}),me),he=a("VXJn"),ve=a("t7ZL"),be=a("+0xr"),ge=a("Dh3D"),ye=a("M9IT"),we=a("9Zza"),ke=a("n9IN"),xe=a("S7/7");function Ie(e,t){if(1&e&&(y.Nc(0,"th",14),y.Ic(1,"app-table-th-checkbox",15),y.Mc()),2&e){var i=y.Xc();y.wc(1),y.dd("rows",i.service.rows)("selectedKeys",i.service.selectedKeys)}}function Ne(e,t){if(1&e&&(y.Nc(0,"td",16),y.Ic(1,"app-table-td-checkbox",17),y.Mc()),2&e){var i=t.$implicit,r=y.Xc();y.wc(1),y.dd("row",i)("selectedKeys",r.service.selectedKeys)}}function Se(e,t){if(1&e&&(y.Nc(0,"th",14),y.yd(1),y.Mc()),2&e){var i=y.Xc();y.wc(1),y.Ad(" ",i.fields.avatars.label," ")}}function Me(e,t){if(1&e&&(y.Nc(0,"td",16),y.Ic(1,"app-table-item-images",18),y.Mc()),2&e){var i=t.$implicit,r=y.Xc();y.wc(1),y.dd("value",r.presenter(i,"avatars"))}}function Le(e,t){if(1&e&&(y.Nc(0,"th",19),y.yd(1),y.Mc()),2&e){var i=y.Xc();y.wc(1),y.Ad(" ",i.fields.email.label," ")}}function Oe(e,t){if(1&e&&(y.Nc(0,"td",16),y.yd(1),y.Mc()),2&e){var i=t.$implicit,r=y.Xc();y.wc(1),y.Ad(" ",r.presenter(i,"email")," ")}}function Re(e,t){if(1&e&&(y.Nc(0,"th",19),y.yd(1),y.Mc()),2&e){var i=y.Xc();y.wc(1),y.Ad(" ",i.fields.fullName.label," ")}}function Te(e,t){if(1&e&&(y.Nc(0,"td",16),y.yd(1),y.Mc()),2&e){var i=t.$implicit,r=y.Xc();y.wc(1),y.Ad(" ",r.presenter(i,"fullName")," ")}}function De(e,t){if(1&e&&(y.Nc(0,"th",14),y.yd(1),y.Mc()),2&e){var i=y.Xc();y.wc(1),y.Ad(" ",i.fields.roles.label," ")}}function je(e,t){if(1&e&&(y.Nc(0,"div",22),y.yd(1),y.Mc()),2&e){var i=t.$implicit,r=y.Xc(2);y.dd("matTooltip",r.roleDescriptionOf(i)),y.wc(1),y.Ad(" ",r.roleLabelOf(i)," ")}}function Pe(e,t){if(1&e&&(y.Nc(0,"td",20),y.xd(1,je,2,2,"div",21),y.Mc()),2&e){var i=t.$implicit;y.wc(1),y.dd("ngForOf",i.roles)}}function Ce(e,t){if(1&e&&(y.Nc(0,"th",19),y.yd(1),y.Mc()),2&e){var i=y.Xc();y.wc(1),y.Ad(" ",i.fields.status.label," ")}}var Fe=function(e,t,i){return{"text-green":e,"text-yellow":t,"text-red":i}};function Ae(e,t){if(1&e&&(y.Nc(0,"td",16),y.Nc(1,"strong",23),y.yd(2),y.Mc(),y.Mc()),2&e){var i=t.$implicit,r=y.Xc();y.wc(1),y.dd("ngClass",y.jd(2,Fe,"active"===i[r.fields.status.name],"invited"===i[r.fields.status.name],"empty-permissions"===i[r.fields.status.name])),y.wc(1),y.Ad("",r.presenter(i,"status")," ")}}function Xe(e,t){1&e&&y.Ic(0,"th",24)}var He=function(e){return["/user",e,"edit"]};function Be(e,t){if(1&e&&(y.Nc(0,"button",25),y.Nc(1,"mat-icon"),y.yd(2,"edit"),y.Mc(),y.Mc()),2&e){var i=y.Xc().$implicit,r=y.Xc();y.dd("routerLink",y.hd(2,He,i.id))("matTooltip",r.i18n("common.edit"))}}function Ee(e,t){if(1&e){var i=y.Oc();y.Nc(0,"button",28),y.Tc("click",(function(){y.od(i);var e=y.Xc().$implicit;return y.Xc().doDestroy(e.id)})),y.Nc(1,"mat-icon"),y.yd(2,"delete"),y.Mc(),y.Mc()}if(2&e){var r=y.Xc(2);y.dd("matTooltip",r.i18n("common.destroy"))}}var Ke=function(e){return["/user",e]};function _e(e,t){if(1&e&&(y.Nc(0,"td",16),y.Nc(1,"button",25),y.Nc(2,"mat-icon"),y.yd(3,"search"),y.Mc(),y.Mc(),y.xd(4,Be,3,4,"button",26),y.xd(5,Ee,3,1,"button",27),y.Mc()),2&e){var i=t.$implicit,r=y.Xc();y.wc(1),y.dd("routerLink",y.hd(4,Ke,i.id))("matTooltip",r.i18n("common.view")),y.wc(3),y.dd("ngIf",r.hasPermissionToEdit),y.wc(1),y.dd("ngIf",r.hasPermissionToDestroy)}}function ze(e,t){1&e&&y.Ic(0,"tr",29)}function qe(e,t){1&e&&y.Ic(0,"tr",30)}function Ge(e,t){1&e&&(y.Nc(0,"div",31),y.Ic(1,"app-i18n",32),y.Mc())}function $e(e,t){1&e&&(y.Nc(0,"div",31),y.Ic(1,"app-i18n",33),y.Mc())}var Ue,Qe,Je,Ve=function(){return[10,20,30,40]},Ze=((Je=function(){function e(t,i,r,a){n(this,e),this.service=t,this.userService=i,this.destroyService=r,this.confirmService=a}return c(e,[{key:"presenter",value:function(e,t){return m.a.presenter(e,t)}},{key:"roleDescriptionOf",value:function(e){return he.a.descriptionOf(e)}},{key:"roleLabelOf",value:function(e){return he.a.labelOf(e)}},{key:"i18n",value:function(e){return Object(v.d)(e)}},{key:"doDestroy",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.confirmService.confirm();case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",this.destroyService.doDestroy(e));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"hasPermissionToEdit",get:function(){return this.userService.hasPermissionToEdit}},{key:"hasPermissionToDestroy",get:function(){return this.userService.hasPermissionToDestroy}},{key:"fields",get:function(){return m.a.fields}},{key:"columns",get:function(){return["_select",this.fields.avatars.name,this.fields.email.name,this.fields.fullName.name,this.fields.roles.name,this.fields.status.name,"_actions"]}}]),e}()).\u0275fac=function(e){return new(e||Je)(y.Hc(J),y.Hc(V.a),y.Hc(Y),y.Hc(ve.a))},Je.\u0275cmp=y.Bc({type:Je,selectors:[["app-user-list-table"]],decls:28,vars:18,consts:[[1,"table-responsive"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","_select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["style","padding-top: 8px; padding-bottom: 8px;","mat-cell","",4,"matCellDef"],["matColumnDef","_actions"],["style","width: 120px; text-align: right;","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],["showFirstLastButtons","",3,"disabled","pageIndex","pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],[3,"rows","selectedKeys"],["mat-cell",""],[3,"row","selectedKeys"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"padding-top","8px","padding-bottom","8px"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],[3,"ngClass"],["mat-header-cell","",2,"width","120px","text-align","right"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],[1,"mat-table-message"],["key","table.noData"],["key","table.loading"]],template:function(e,t){1&e&&(y.Nc(0,"div",0),y.Nc(1,"table",1),y.Tc("matSortChange",(function(e){return t.service.doChangeSort(e)})),y.Lc(2,2),y.xd(3,Ie,2,2,"th",3),y.xd(4,Ne,2,2,"td",4),y.Kc(),y.Lc(5,5),y.xd(6,Se,2,1,"th",3),y.xd(7,Me,2,1,"td",4),y.Kc(),y.Lc(8,5),y.xd(9,Le,2,1,"th",6),y.xd(10,Oe,2,1,"td",4),y.Kc(),y.Lc(11,5),y.xd(12,Re,2,1,"th",6),y.xd(13,Te,2,1,"td",4),y.Kc(),y.Lc(14,5),y.xd(15,De,2,1,"th",3),y.xd(16,Pe,2,1,"td",7),y.Kc(),y.Lc(17,5),y.xd(18,Ce,2,1,"th",6),y.xd(19,Ae,3,6,"td",4),y.Kc(),y.Lc(20,8),y.xd(21,Xe,1,0,"th",9),y.xd(22,_e,6,6,"td",4),y.Kc(),y.xd(23,ze,1,0,"tr",10),y.xd(24,qe,1,0,"tr",11),y.Mc(),y.xd(25,Ge,2,0,"div",12),y.xd(26,$e,2,0,"div",12),y.Mc(),y.Nc(27,"mat-paginator",13),y.Tc("page",(function(e){return t.service.doChangePagination(e)})),y.Mc()),2&e&&(y.wc(1),y.dd("dataSource",t.service.rows)("matSortActive",t.service.sorter.columnKey)("matSortDirection",t.service.sorter.order),y.wc(4),y.dd("matColumnDef",t.fields.avatars.name),y.wc(3),y.dd("matColumnDef",t.fields.email.name),y.wc(3),y.dd("matColumnDef",t.fields.fullName.name),y.wc(3),y.dd("matColumnDef",t.fields.roles.name),y.wc(3),y.dd("matColumnDef",t.fields.status.name),y.wc(6),y.dd("matHeaderRowDef",t.columns),y.wc(1),y.dd("matRowDefColumns",t.columns),y.wc(1),y.dd("ngIf",!t.service.loading&&!t.service.count),y.wc(1),y.dd("ngIf",t.service.loading),y.wc(1),y.dd("disabled",t.service.loading)("pageIndex",t.service.paginationPageIndex)("pageSize",t.service.paginationPageSize)("pageSizeOptions",y.gd(17,Ve))("length",t.service.count))},directives:[be.j,ge.a,be.c,be.e,be.b,be.g,be.i,S.k,ye.a,be.d,we.a,be.a,ke.a,xe.a,ge.b,S.j,W.a,S.i,D.b,d.c,j.a,be.f,be.h,N.a],encapsulation:2}),Je),Ye=((Qe=function(){function e(t){n(this,e),this.authService=t,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu")]]}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Qe)(y.Hc(g.a))},Qe.\u0275cmp=y.Bc({type:Qe,selectors:[["app-user-list"]],decls:7,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.title"]],template:function(e,t){1&e&&(y.Ic(0,"app-breadcrumb",0),y.Nc(1,"div",1),y.Nc(2,"h1",2),y.Ic(3,"app-i18n",3),y.Mc(),y.Ic(4,"app-user-list-toolbar"),y.Ic(5,"app-user-list-filter"),y.Ic(6,"app-user-list-table"),y.Mc()),2&e&&y.dd("items",t.breadcrumb)},directives:[I.a,N.a,oe,pe,Ze],encapsulation:2}),Qe),We=((Ue=function(){function e(t,i){n(this,e),this.errorService=t,this.router=i,this.loading=!1,this.user=null}return c(e,[{key:"doFind",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.user=null,this.loading=!0,t.next=5,p.a.find(e);case 5:this.user=t.sent,this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),this.errorService.handle(t.t0),this.user=null,this.loading=!1,this.router.navigate(["/user"]);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})))}}]),e}()).\u0275fac=function(e){return new(e||Ue)(y.Rc(h.a),y.Rc(d.b))},Ue.\u0275prov=y.Dc({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue),et=a("wd/R"),tt=function(e){return["/user",e,"edit"]};function it(e,t){if(1&e&&(y.Nc(0,"button",3),y.Ic(1,"mat-icon",4),y.yd(2,"\xa0 "),y.Ic(3,"app-i18n",5),y.Mc()),2&e){var i=y.Xc();y.dd("routerLink",y.hd(1,tt,i.record.id))}}var rt=function(){return["/audit-log"]},nt=function(e){return{entityId:e}};function at(e,t){if(1&e&&(y.Nc(0,"button",6),y.Ic(1,"mat-icon",7),y.yd(2,"\xa0 "),y.Ic(3,"app-i18n",8),y.Mc()),2&e){var i=y.Xc();y.dd("routerLink",y.gd(2,rt))("queryParams",y.hd(3,nt,i.record.id))}}var ct=function(e){return{createdByEmail:e}};function ot(e,t){if(1&e&&(y.Nc(0,"button",6),y.Ic(1,"mat-icon",9),y.yd(2,"\xa0 "),y.Ic(3,"app-i18n",10),y.Mc()),2&e){var i=y.Xc();y.dd("routerLink",y.gd(2,rt))("queryParams",y.hd(3,ct,i.record.email))}}var st,dt=((st=function(){function e(t,i,r){n(this,e),this.service=t,this.userService=i,this.auditLogService=r}return c(e,[{key:"hasPermissionToEdit",get:function(){return this.userService.hasPermissionToEdit}},{key:"hasPermissionToImport",get:function(){return this.userService.hasPermissionToImport}},{key:"hasPermissionToAuditLogs",get:function(){return this.auditLogService.hasPermissionToRead}},{key:"record",get:function(){return this.service.user}}]),e}()).\u0275fac=function(e){return new(e||st)(y.Hc(We),y.Hc(V.a),y.Hc(Z.a))},st.\u0275cmp=y.Bc({type:st,selectors:[["app-user-view-toolbar"]],decls:4,vars:3,consts:[[1,"app-page-toolbar"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink"],["inline","","fontSet","far","fontIcon","fa-edit"],["key","common.edit"],["mat-flat-button","","color","primary",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"],["inline","","fontSet","far","fontIcon","fa-eye"],["key","user.view.activity"]],template:function(e,t){1&e&&(y.Nc(0,"div",0),y.xd(1,it,4,3,"button",1),y.xd(2,at,4,5,"button",2),y.xd(3,ot,4,5,"button",2),y.Mc()),2&e&&(y.wc(1),y.dd("ngIf",t.record&&t.hasPermissionToEdit),y.wc(1),y.dd("ngIf",t.record&&t.hasPermissionToAuditLogs),y.wc(1),y.dd("ngIf",t.record&&t.hasPermissionToAuditLogs))},directives:[S.k,D.b,d.c,j.a,N.a],encapsulation:2}),st),ut=a("2xaH"),lt=a("XG4R");function ft(e,t){if(1&e&&(y.Nc(0,"div",1),y.Nc(1,"div",2),y.yd(2),y.Mc(),y.bd(3),y.Mc()),2&e){var i=y.Xc();y.wc(2),y.Ad(" ",i.label," ")}}var mt,pt=["*"],ht=((mt=function(){function e(){n(this,e)}return c(e,[{key:"isEmpty",get:function(){return!this.value&&0!==this.value&&!1!==this.value||Array.isArray(this.value)&&!this.value.length}}]),e}()).\u0275fac=function(e){return new(e||mt)},mt.\u0275cmp=y.Bc({type:mt,selectors:[["app-view-item-custom"]],inputs:{label:"label",value:"value"},ngContentSelectors:pt,decls:1,vars:1,consts:[["class","view-item",4,"ngIf"],[1,"view-item"],[1,"view-item--label"]],template:function(e,t){1&e&&(y.cd(),y.xd(0,ft,4,1,"div",0)),2&e&&y.dd("ngIf",!t.isEmpty)},directives:[S.k],encapsulation:2}),mt);function vt(e,t){1&e&&(y.Nc(0,"div",6),y.Ic(1,"mat-spinner",7),y.Mc())}function bt(e,t){if(1&e&&y.Ic(0,"app-view-item-text",10),2&e){var i=y.Xc(2);y.dd("label",i.fields.birthDate.label)("value",i.birthDate(i.presenter(i.record,"birthDate")))}}function gt(e,t){if(1&e&&(y.Nc(0,"span",16),y.yd(1),y.Ic(2,"br"),y.Mc()),2&e){var i=t.$implicit,r=y.Xc(2);y.dd("matTooltip",r.roleDescriptionOf(i)),y.wc(1),y.Ad(" ",r.roleLabelOf(i)," ")}}var yt=function(e,t,i){return{"text-green":e,"text-yellow":t,"text-red":i}};function wt(e,t){if(1&e&&(y.Nc(0,"div"),y.Nc(1,"div",8),y.Nc(2,"div",9),y.Ic(3,"app-view-item-text",10),y.Ic(4,"app-view-item-text",10),y.Ic(5,"app-view-item-text",10),y.Ic(6,"app-view-item-text",11),y.Ic(7,"app-view-item-text",10),y.xd(8,bt,1,2,"app-view-item-text",12),y.Ic(9,"app-view-item-images",10),y.Mc(),y.Nc(10,"div",13),y.Nc(11,"app-view-item-custom",10),y.Nc(12,"strong",14),y.yd(13),y.Mc(),y.Mc(),y.Nc(14,"app-view-item-custom",10),y.xd(15,gt,3,2,"span",15),y.Mc(),y.Mc(),y.Mc(),y.Mc()),2&e){var i=y.Xc();y.wc(3),y.dd("label",i.fields.email.label)("value",i.presenter(i.record,"email")),y.wc(1),y.dd("label",i.fields.firstName.label)("value",i.presenter(i.record,"firstName")),y.wc(1),y.dd("label",i.fields.lastName.label)("value",i.presenter(i.record,"lastName")),y.wc(1),y.dd("label",i.fields.phoneNumber.label)("value",i.presenter(i.record,"phoneNumber")),y.wc(1),y.dd("label",i.fields.nationality.label)("value",i.presenter(i.record,"nationality")),y.wc(1),y.dd("ngIf",i.record.birthDate),y.wc(1),y.dd("label",i.fields.avatars.label)("value",i.presenter(i.record,"avatars")),y.wc(2),y.dd("label",i.fields.status.label)("value",i.presenter(i.record,"status")),y.wc(1),y.dd("ngClass",y.jd(20,yt,"active"===i.record[i.fields.status.name],"invited"===i.record[i.fields.status.name],"empty-permissions"===i.record[i.fields.status.name])),y.wc(1),y.Ad("",i.presenter(i.record,"status")," "),y.wc(1),y.dd("label",i.fields.roles.label)("value",i.record.roles),y.wc(1),y.dd("ngForOf",i.record.roles)}}var kt,xt,It,Nt,St,Mt=((kt=function(){function e(t,i,r){n(this,e),this.service=t,this.route=i,this.authService=r,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.menu"),"/user"],[Object(v.d)("user.view.title")]]}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.doFind(this.route.snapshot.paramMap.get("id"));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"presenter",value:function(e,t){return m.a.presenter(e,t)}},{key:"roleDescriptionOf",value:function(e){return he.a.descriptionOf(e)}},{key:"roleLabelOf",value:function(e){return he.a.labelOf(e)}},{key:"birthDate",value:function(e){return et(e).format("ll")}},{key:"fields",get:function(){return m.a.fields}},{key:"loading",get:function(){return this.service.loading}},{key:"record",get:function(){return this.service.user}}]),e}()).\u0275fac=function(e){return new(e||kt)(y.Hc(We),y.Hc(d.a),y.Hc(g.a))},kt.\u0275cmp=y.Bc({type:kt,selectors:[["app-user-view"]],decls:7,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.view.title"],["class","app-page-spinner",4,"ngIf"],[4,"ngIf"],[1,"app-page-spinner"],["color","accent"],[1,"row"],[1,"col-md-8"],[3,"label","value"],["prefix","+",3,"label","value"],[3,"label","value",4,"ngIf"],[1,"col-md-4"],[3,"ngClass"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"]],template:function(e,t){1&e&&(y.Ic(0,"app-breadcrumb",0),y.Nc(1,"div",1),y.Nc(2,"h1",2),y.Ic(3,"app-i18n",3),y.Mc(),y.Ic(4,"app-user-view-toolbar"),y.xd(5,vt,2,0,"div",4),y.xd(6,wt,16,24,"div",5),y.Mc()),2&e&&(y.dd("items",t.breadcrumb),y.wc(5),y.dd("ngIf",t.loading),y.wc(1),y.dd("ngIf",!t.loading))},directives:[I.a,N.a,dt,S.k,M.b,ut.a,lt.a,ht,S.i,S.j,W.a],encapsulation:2}),kt),Lt=a("uswQ"),Ot=a("mmyZ"),Rt=a("z7xO"),Tt=[{path:"",component:Lt.a,children:[{path:":id/edit",component:_,canActivate:[u.a,l.a],data:{permission:Ot.a.values.userEdit}},{path:"new",component:(xt=function(){function e(t,i,r){n(this,e),this.service=t,this.router=i,this.authService=r,this.breadcrumb=[[Object(v.d)("dashboard.menu")],[Object(v.d)("user.title"),"/user"],[Object(v.d)("user.new.title")]]}return c(e,[{key:"ngOnInit",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.service.doInit());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"doSave",value:function(e){return this.service.doAdd(e.values)}},{key:"doCancel",value:function(){this.router.navigate(["/user"])}},{key:"saveLoading",get:function(){return this.service.saveLoading}}]),e}(),xt.\u0275fac=function(e){return new(e||xt)(y.Hc(w),y.Hc(d.b),y.Hc(g.a))},xt.\u0275cmp=y.Bc({type:xt,selectors:[["app-user-new-form-page"]],decls:5,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","user.new.title"],[3,"saveLoading","modal","save","cancel"]],template:function(e,t){1&e&&(y.Ic(0,"app-breadcrumb",0),y.Nc(1,"div",1),y.Nc(2,"h1",2),y.Ic(3,"app-i18n",3),y.Mc(),y.Nc(4,"app-user-new-form",4),y.Tc("save",(function(e){return t.doSave(e)}))("cancel",(function(){return t.doCancel()})),y.Mc(),y.Mc()),2&e&&(y.dd("items",t.breadcrumb),y.wc(4),y.dd("saveLoading",t.saveLoading)("modal",!1))},directives:[I.a,N.a,Rt.a],encapsulation:2}),xt),canActivate:[u.a,l.a],data:{permission:Ot.a.values.userCreate}},{path:"import",component:q,canActivate:[u.a,l.a],data:{permission:Ot.a.values.userImport}},{path:":id",component:Mt,canActivate:[u.a,l.a],data:{permission:Ot.a.values.userRead}},{path:"",component:Ye,canActivate:[u.a,l.a],data:{permission:Ot.a.values.userRead}}]}],Dt=((It=function e(){n(this,e)}).\u0275mod=y.Fc({type:It}),It.\u0275inj=y.Ec({factory:function(e){return new(e||It)},providers:[],imports:[[d.f.forChild(Tt)],d.f]}),It),jt=a("PCNd"),Pt=a("jSGM"),Ct=m.a.fields,Ft=[Ct.email,Ct.rolesRequired],At=((Nt=function(i){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&e(t,i)}(a,i);var r=t(a);function a(e){return n(this,a),r.call(this,e,p.a.import,Ft,Object(v.d)("user.importer.fileName"),Object(v.d)("user.importer.hint"))}return a}(Pt.a)).\u0275fac=function(e){return new(e||Nt)(y.Rc(h.a))},Nt.\u0275prov=y.Dc({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),Nt),Xt=a("t9Rf"),Ht=((St=function e(){n(this,e)}).\u0275mod=y.Fc({type:St}),St.\u0275inj=y.Ec({factory:function(e){return new(e||St)},providers:[{provide:Pt.a,useClass:At}],imports:[[jt.a,Dt,s.a,Xt.a]]}),St)}}])}();