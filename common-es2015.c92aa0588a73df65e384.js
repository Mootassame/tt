(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"8SCG":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("fXoL"),s=i("ofXK"),r=i("NFeN");function a(t,e){if(1&t&&(n.Nc(0,"div",6),n.Nc(1,"mat-icon"),n.yd(2,"attach_file"),n.Mc(),n.Nc(3,"a",7),n.yd(4),n.Mc(),n.Mc()),2&t){const t=e.$implicit;n.wc(3),n.dd("href",t.downloadUrl,n.qd),n.wc(1),n.Ad(" ",t.name," ")}}function c(t,e){if(1&t&&(n.Nc(0,"div"),n.Nc(1,"div",4),n.xd(2,a,5,2,"div",5),n.Mc(),n.Mc()),2&t){const t=n.Xc(2);n.wc(2),n.dd("ngForOf",t.valueAsArray)}}function o(t,e){if(1&t&&(n.Nc(0,"div",1),n.Nc(1,"div",2),n.yd(2),n.Mc(),n.xd(3,c,3,1,"div",3),n.Mc()),2&t){const t=n.Xc();n.wc(2),n.Ad(" ",t.label," "),n.wc(1),n.dd("ngIf",t.value&&t.value.length)}}let d=(()=>{class t{get isEmpty(){return!this.valueAsArray.length}get valueAsArray(){const t=this.value;return t?Array.isArray(t)?t:[t]:[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Bc({type:t,selectors:[["app-view-item-files"]],inputs:{label:"label",value:"value"},decls:1,vars:1,consts:[["class","view-item",4,"ngIf"],[1,"view-item"],[1,"view-item--label"],[4,"ngIf"],[1,"view-item-file-list"],["class","view-item-file-list-item",4,"ngFor","ngForOf"],[1,"view-item-file-list-item"],["target","_blank","download","",1,"view-item-file-list-item-name",3,"href"]],template:function(t,e){1&t&&n.xd(0,o,4,2,"div",0),2&t&&n.dd("ngIf",!e.isEmpty)},directives:[s.k,s.j,r.a],encapsulation:2}),t})()},AKtp:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("gfiE"),s=i("Yo9n"),r=i("3WK+"),a=i("9Lsv"),c=i("dCvk"),o=i("Vbab");function d(t){return Object(o.d)("tenant.fields."+t)}const u={id:new r.a("id",d("id")),name:new a.a("name",d("name"),{required:!0,max:50}),tenantName:new a.a("name",d("tenantName"),{required:!0,max:50}),url:new a.a("url",d("url"),{required:!0,max:50}),tenantUrl:new a.a("url",d("tenantUrl"),{required:!0,max:50}),plan:new a.a("plan",d("plan")),tenantId:new r.a("id",d("tenantId")),createdAt:new n.a("createdAt",d("createdAt")),updatedAt:new n.a("updatedAt",d("updatedAt")),createdAtRange:new s.a("createdAtRange",d("createdAtRange"))};class l extends c.a{static get fields(){return u}}},Ddwb:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("qXBG"),s=i("fXoL"),r=i("ofXK"),a=i("tyNb");const c=function(t){return[t]};function o(t,e){if(1&t&&(s.Nc(0,"a",3),s.yd(1),s.Mc()),2&t){const t=s.Xc().$implicit,e=s.Xc(2);s.dd("routerLink",s.hd(2,c,e.urlWithId(t))),s.wc(1),s.zd(e.display(t))}}function d(t,e){if(1&t&&(s.Nc(0,"span"),s.yd(1),s.Mc()),2&t){const t=s.Xc().$implicit,e=s.Xc(2);s.wc(1),s.zd(e.display(t))}}function u(t,e){if(1&t&&(s.Nc(0,"div"),s.xd(1,o,2,4,"a",2),s.xd(2,d,2,1,"span",0),s.Mc()),2&t){const t=s.Xc(2);s.wc(1),s.dd("ngIf",t.hasPermissionToRead),s.wc(1),s.dd("ngIf",!t.hasPermissionToRead)}}function l(t,e){if(1&t&&(s.Nc(0,"div"),s.xd(1,u,3,2,"div",1),s.Mc()),2&t){const t=s.Xc();s.wc(1),s.dd("ngForOf",t.value)}}let h=(()=>{class t{constructor(t){this.authService=t}get hasPermissionToRead(){return this.authService.hasPermission(this.permission)}get isEmpty(){return!this.value||!this.value.length}urlWithId(t){return`${this.url}/${t.id}`}display(t){return t.label}}return t.\u0275fac=function(e){return new(e||t)(s.Hc(n.a))},t.\u0275cmp=s.Bc({type:t,selectors:[["app-table-item-relation-to-many"]],inputs:{value:"value",url:"url",permission:"permission"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","app-link",3,"routerLink",4,"ngIf"],[1,"app-link",3,"routerLink"]],template:function(t,e){1&t&&s.xd(0,l,2,1,"div",0),2&t&&s.dd("ngIf",!e.isEmpty)},directives:[r.k,r.j,a.e],encapsulation:2}),t})()},E99N:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("qXBG"),s=i("fXoL"),r=i("ofXK"),a=i("tyNb");const c=function(t){return[t]};function o(t,e){if(1&t&&(s.Nc(0,"a",5),s.yd(1),s.Mc()),2&t){const t=s.Xc(2);s.dd("routerLink",s.hd(2,c,t.urlWithId)),s.wc(1),s.zd(t.display)}}function d(t,e){if(1&t&&(s.Nc(0,"span"),s.yd(1),s.Mc()),2&t){const t=s.Xc(2);s.wc(1),s.zd(t.display)}}function u(t,e){if(1&t&&(s.Nc(0,"div",1),s.Nc(1,"div",2),s.yd(2),s.Mc(),s.xd(3,o,2,4,"a",3),s.xd(4,d,2,1,"span",4),s.Mc()),2&t){const t=s.Xc();s.wc(2),s.Ad(" ",t.label," "),s.wc(1),s.dd("ngIf",t.hasPermissionToRead),s.wc(1),s.dd("ngIf",!t.hasPermissionToRead)}}let l=(()=>{class t{constructor(t){this.authService=t}get hasPermissionToRead(){return this.authService.hasPermission(this.permission)}get isEmpty(){return!this.value||!this.value.id}get urlWithId(){return`${this.url}/${this.value.id}`}get display(){return this.value.label}}return t.\u0275fac=function(e){return new(e||t)(s.Hc(n.a))},t.\u0275cmp=s.Bc({type:t,selectors:[["app-view-item-relation-to-one"]],inputs:{label:"label",value:"value",url:"url",permission:"permission"},decls:1,vars:1,consts:[["class","view-item",4,"ngIf"],[1,"view-item"],[1,"view-item--label"],["class","app-link",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"app-link",3,"routerLink"]],template:function(t,e){1&t&&s.xd(0,u,5,3,"div",0),2&t&&s.dd("ngIf",!e.isEmpty)},directives:[r.k,a.e],encapsulation:2}),t})()},ER6R:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n=i("mrSG"),s=i("anNb"),r=i("qXBG"),a=i("QmLB"),c=i("zkTT"),o=i("ZSv9"),d=i("Vbab"),u=i("St/f"),l=i("fXoL"),h=i("tyNb");let v=(()=>{class t{constructor(t,e,i,n,s){this.authService=t,this.errorService=e,this.tenantListService=i,this.snackbar=n,this.router=s,this.loading=!1,this.warningMessage=null}invitationToken(t){const e=this.authService.currentUser;if(!e||!e.tenants)return!1;const i=e.tenants.find(e=>e.tenant.id===t.id&&"invited"===e.status);return i?i.invitationToken:null}doAcceptFromAuth(t,e=!1){return Object(n.a)(this,void 0,void 0,(function*(){try{if(this.loading)return;if(!this.authService.isSignedIn)return s.a.set(t),void this.router.navigate(["/auth/signup"]);this.warningMessage=null,this.loading=!0;const i=yield o.a.acceptInvitation(t,e);yield this.authService.doSelectTenant(i),this.warningMessage=null,this.loading=!1}catch(i){if(404===this.errorService.errorCode(i))return this.warningMessage=null,this.loading=!1,void this.router.navigate([""]);if(400===this.errorService.errorCode(i))return this.warningMessage=this.errorService.selectMessage(i),void(this.loading=!1);this.errorService.handle(i),this.warningMessage=null,this.loading=!1,this.router.navigate([""])}}))}doAccept(t){return Object(n.a)(this,void 0,void 0,(function*(){try{this.loading=!0;const e=yield o.a.acceptInvitation(t);yield this.authService.doSelectTenant(e),this.loading=!1}catch(e){this.errorService.handle(e),this.loading=!1}}))}doDecline(t){return Object(n.a)(this,void 0,void 0,(function*(){try{this.loading=!0,yield o.a.declineInvitation(t),yield this.tenantListService.doFetch(this.tenantListService.filter),yield this.authService.doRefreshCurrentUser(),this.snackbar.success(Object(d.d)("tenant.invitation.declined")),this.loading=!1,this.router.navigate(["/tenant"])}catch(e){this.errorService.handle(e),this.loading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(l.Rc(r.a),l.Rc(a.a),l.Rc(u.a),l.Rc(c.a),l.Rc(h.b))},t.\u0275prov=l.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"St/f":function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("mrSG"),s=i("ZSv9"),r=i("QmLB"),a=i("0EQZ"),c=i("fXoL");let o=(()=>{class t{constructor(t){this.errorService=t,this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.selectedKeys=new a.c(!0,[]),this.unlimited=!1}get hasRows(){return this.count>0}get orderBy(){const t=this.sorter;return t&&t.columnKey?`${t.columnKey}_${"desc"===t.order?"DESC":"ASC"}`:null}get limit(){if(this.unlimited)return 0;const t=this._pagination;return t&&t.pageSize?t.pageSize:10}get offset(){if(this.unlimited)return 0;const t=this._pagination;return t&&t.pageSize?t.pageIndex*t.pageSize:0}get pagination(){return!this.unlimited&&Object.assign(Object.assign({},this._pagination),{total:this.count,showSizeChanger:!0})}get paginationPageSize(){return this._pagination&&this._pagination.pageSize?this._pagination.pageSize:10}get paginationPageIndex(){return this._pagination&&this._pagination.pageIndex?this._pagination.pageIndex:0}get selectedRows(){return this.rows.filter(t=>this.selectedKeys.isSelected(t.id))}doResetSelectedKeys(){this.selectedKeys=new a.c(!0,[])}doReset(){return Object(n.a)(this,void 0,void 0,(function*(){return this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.doResetSelectedKeys(),this.doFetch()}))}doChangePagination(t){this._pagination=t,this.doFetch(this.filter,!0)}doChangeSort(t){this.sorter=t?{columnKey:t.active,order:t.direction}:{},this.doFetch(this.filter,!0)}doFetch(t,e=!1){return Object(n.a)(this,void 0,void 0,(function*(){try{this.loading=!0,this.rows=[],this.count=0,e||(this._pagination={}),this.filter=t||{},this.doResetSelectedKeys();const i=yield s.a.list(t,this.orderBy,this.limit,this.offset);this.rows=i.rows,this.count=i.count,this.loading=!1}catch(i){this.errorService.handle(i),this.loading=!1,this.rows=[],this.count=0}}))}}return t.\u0275fac=function(e){return new(e||t)(c.Rc(r.a))},t.\u0275prov=c.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},XG4R:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("fXoL"),s=i("ofXK");function r(t,e){if(1&t&&(n.Nc(0,"div",5),n.Nc(1,"div",6),n.Nc(2,"a",7),n.Ic(3,"img",8),n.Mc(),n.Mc(),n.Mc()),2&t){const t=e.$implicit;n.wc(2),n.dd("href",t.downloadUrl,n.qd),n.wc(1),n.dd("src",t.downloadUrl,n.qd)("alt",t.name)}}function a(t,e){if(1&t&&(n.Nc(0,"div",1),n.Nc(1,"div",2),n.yd(2),n.Mc(),n.Nc(3,"div",3),n.xd(4,r,4,3,"div",4),n.Mc(),n.Mc()),2&t){const t=n.Xc();n.wc(2),n.Ad(" ",t.label," "),n.wc(2),n.dd("ngForOf",t.valueAsArray)}}let c=(()=>{class t{get isEmpty(){return!this.valueAsArray.length}get valueAsArray(){const t=this.value;return t?Array.isArray(t)?t:[t]:[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Bc({type:t,selectors:[["app-view-item-images"]],inputs:{label:"label",value:"value"},decls:1,vars:1,consts:[["class","view-item",4,"ngIf"],[1,"view-item"],[1,"view-item--label"],[1,"row"],["class","col-xs-6",4,"ngFor","ngForOf"],[1,"col-xs-6"],[1,"view-item-image-container"],["target","_blank",3,"href"],[1,"view-item-image",3,"src","alt"]],template:function(t,e){1&t&&n.xd(0,a,5,2,"div",0),2&t&&n.dd("ngIf",!e.isEmpty)},directives:[s.k,s.j],encapsulation:2}),t})()},YGpq:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("qXBG"),s=i("fXoL"),r=i("ofXK"),a=i("tyNb");const c=function(t){return[t]};function o(t,e){if(1&t&&(s.Nc(0,"a",6),s.yd(1),s.Mc()),2&t){const t=s.Xc().$implicit,e=s.Xc(2);s.dd("routerLink",s.hd(2,c,e.urlWithId(t))),s.wc(1),s.zd(e.display(t))}}function d(t,e){if(1&t&&(s.Nc(0,"span"),s.yd(1),s.Mc()),2&t){const t=s.Xc().$implicit,e=s.Xc(2);s.wc(1),s.zd(e.display(t))}}function u(t,e){if(1&t&&(s.Nc(0,"div"),s.xd(1,o,2,4,"a",4),s.xd(2,d,2,1,"span",5),s.Mc()),2&t){const t=s.Xc(2);s.wc(1),s.dd("ngIf",t.hasPermissionToRead),s.wc(1),s.dd("ngIf",!t.hasPermissionToRead)}}function l(t,e){if(1&t&&(s.Nc(0,"div",1),s.Nc(1,"div",2),s.yd(2),s.Mc(),s.xd(3,u,3,2,"div",3),s.Mc()),2&t){const t=s.Xc();s.wc(2),s.Ad(" ",t.label," "),s.wc(1),s.dd("ngForOf",t.value)}}let h=(()=>{class t{constructor(t){this.authService=t}get hasPermissionToRead(){return this.authService.hasPermission(this.permission)}get isEmpty(){return!this.value||!this.value.length}urlWithId(t){return`${this.url}/${t.id}`}display(t){return t.label}}return t.\u0275fac=function(e){return new(e||t)(s.Hc(n.a))},t.\u0275cmp=s.Bc({type:t,selectors:[["app-view-item-relation-to-many"]],inputs:{label:"label",value:"value",url:"url",permission:"permission"},decls:1,vars:1,consts:[["class","view-item",4,"ngIf"],[1,"view-item"],[1,"view-item--label"],[4,"ngFor","ngForOf"],["class","app-link",3,"routerLink",4,"ngIf"],[4,"ngIf"],[1,"app-link",3,"routerLink"]],template:function(t,e){1&t&&s.xd(0,l,4,2,"div",0),2&t&&s.dd("ngIf",!e.isEmpty)},directives:[r.k,r.j,a.e],encapsulation:2}),t})()},YHaZ:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("mrSG"),s=i("ZSv9"),r=i("QmLB"),a=i("zkTT"),c=i("Vbab"),o=i("qXBG"),d=i("fXoL"),u=i("tyNb");let l=(()=>{class t{constructor(t,e,i,n){this.errorService=t,this.snackbar=e,this.router=i,this.authService=n,this.initLoading=!1,this.saveLoading=!1,this.record=null}doInit(t){return Object(n.a)(this,void 0,void 0,(function*(){try{this.record=null,this.initLoading=!0,t&&(this.record=yield s.a.find(t)),this.initLoading=!1}catch(e){this.errorService.handle(e),this.record=null,this.initLoading=!0,this.router.navigate(["/tenant"])}}))}doCreate(t){return Object(n.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const e=yield s.a.create(t);yield this.authService.doRefreshCurrentUser(),this.saveLoading=!1,yield this.authService.doSelectTenant(e),this.snackbar.success(Object(c.d)("tenant.create.success")),this.router.navigate([""])}catch(e){this.errorService.handle(e),this.saveLoading=!1}}))}doUpdate(t,e){return Object(n.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0;const i=yield s.a.update(t,e);this.saveLoading=!1,yield this.authService.doSelectTenant(i),this.snackbar.success(Object(c.d)("tenant.update.success")),this.router.navigate([""])}catch(i){this.errorService.handle(i),this.saveLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(d.Rc(r.a),d.Rc(a.a),d.Rc(u.b),d.Rc(o.a))},t.\u0275prov=d.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},inre:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("qXBG"),s=i("fXoL"),r=i("ofXK"),a=i("tyNb");const c=function(t){return[t]};function o(t,e){if(1&t&&(s.Nc(0,"a",2),s.yd(1),s.Mc()),2&t){const t=s.Xc(2);s.dd("routerLink",s.hd(2,c,t.urlWithId)),s.wc(1),s.zd(t.display)}}function d(t,e){if(1&t&&(s.Nc(0,"span"),s.yd(1),s.Mc()),2&t){const t=s.Xc(2);s.wc(1),s.zd(t.display)}}function u(t,e){if(1&t&&(s.Nc(0,"div"),s.xd(1,o,2,4,"a",1),s.xd(2,d,2,1,"span",0),s.Mc()),2&t){const t=s.Xc();s.wc(1),s.dd("ngIf",t.hasPermissionToRead),s.wc(1),s.dd("ngIf",!t.hasPermissionToRead)}}let l=(()=>{class t{constructor(t){this.authService=t}get hasPermissionToRead(){return this.authService.hasPermission(this.permission)}get isEmpty(){return!this.value||!this.value.id}get urlWithId(){return`${this.url}/${this.value.id}`}get display(){return this.value.label}}return t.\u0275fac=function(e){return new(e||t)(s.Hc(n.a))},t.\u0275cmp=s.Bc({type:t,selectors:[["app-table-item-relation-to-one"]],inputs:{value:"value",url:"url",permission:"permission"},decls:1,vars:1,consts:[[4,"ngIf"],["class","app-link",3,"routerLink",4,"ngIf"],[1,"app-link",3,"routerLink"]],template:function(t,e){1&t&&s.xd(0,u,3,2,"div",0),2&t&&s.dd("ngIf",!e.isEmpty)},directives:[r.k,a.e],encapsulation:2}),t})()}}]);