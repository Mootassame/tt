(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{dwTM:function(t,e,i){"use strict";i.r(e),i.d(e,"TagsModule",(function(){return Zt}));var n=i("Tx//"),o=i("tyNb"),c=i("P+IX"),r=i("uswQ"),s=i("ogYm"),a=i("mmyZ"),d=i("Vbab"),l=i("qXBG"),u=i("fXoL"),h=i("APW9"),p=i("UDmo"),m=i("mrSG"),f=i("sMbg"),g=i("IsfU");const{fields:v}=g.a;var b=[v.id,v.titleFR,v.titleEN,v.titleAR,v.createdAt,v.updatedAt],y=i("Oxlt"),w=i("QmLB"),I=i("0EQZ");let S=(()=>{class t{constructor(t){this.errorService=t,this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.selectedKeys=new I.c(!0,[]),this.exportLoading=!1,this.unlimited=!1}get hasRows(){return this.count>0}get orderBy(){const t=this.sorter;return t&&t.columnKey?`${t.columnKey}_${"desc"===t.order?"DESC":"ASC"}`:null}get limit(){if(this.unlimited)return 0;const t=this._pagination;return t&&t.pageSize?t.pageSize:10}get offset(){if(this.unlimited)return 0;const t=this._pagination;return t&&t.pageSize?t.pageIndex*t.pageSize:0}get pagination(){return!this.unlimited&&Object.assign(Object.assign({},this._pagination),{total:this.count,showSizeChanger:!0})}get paginationPageSize(){return this._pagination&&this._pagination.pageSize?this._pagination.pageSize:10}get paginationPageIndex(){return this._pagination&&this._pagination.pageIndex?this._pagination.pageIndex:0}get selectedRows(){return this.rows.filter(t=>this.selectedKeys.isSelected(t.id))}doResetSelectedKeys(){this.selectedKeys=new I.c(!0,[])}doReset(){return Object(m.a)(this,void 0,void 0,(function*(){return this.rows=[],this.count=0,this.loading=!1,this.filter={},this._pagination={},this.sorter={},this.doResetSelectedKeys(),this.exportLoading=!1,this.doFetch()}))}doExport(){return Object(m.a)(this,void 0,void 0,(function*(){try{this.exportLoading=!0;const t=this.filter,e=yield f.a.list(t,this.orderBy,null,null);new y.a(b,"tags").transformAndExportAsExcelFile(e.rows),this.exportLoading=!1}catch(t){this.errorService.handle(t),this.exportLoading=!1}}))}doChangePagination(t){this._pagination=t,this.doFetch(this.filter,!0)}doChangeSort(t){this.sorter=t?{columnKey:t.active,order:t.direction}:{},this.doFetch(this.filter,!0)}doFetch(t,e=!1){return Object(m.a)(this,void 0,void 0,(function*(){try{this.loading=!0,this.rows=[],this.count=0,e||(this._pagination={}),this.filter=t||{},this.doResetSelectedKeys();const i=yield f.a.list(t,this.orderBy,this.limit,this.offset);this.rows=i.rows,this.count=i.count,this.loading=!1}catch(i){this.errorService.handle(i),this.loading=!1,this.rows=[],this.count=0}}))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(w.a))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=i("+R1a"),x=i("6SvT"),k=i("t7ZL"),L=i("zkTT");let M=(()=>{class t{constructor(t,e,i,n){this.errorService=t,this.snackbar=e,this.router=i,this.tagsListService=n,this.loading=!1}doDestroy(t){return Object(m.a)(this,void 0,void 0,(function*(){try{this.loading=!0,yield f.a.destroyAll([t]),this.loading=!1,this.snackbar.success(Object(d.d)("entities.tags.destroy.success")),this.router.navigate(["/tags"]),yield this.tagsListService.doFetch(this.tagsListService.filter)}catch(e){this.errorService.handle(e),this.loading=!1}}))}doDestroyAll(t){return Object(m.a)(this,void 0,void 0,(function*(){try{return this.loading=!0,yield f.a.destroyAll(t),this.loading=!1,this.tagsListService.doResetSelectedKeys(),this.snackbar.success(Object(d.d)("entities.tags.destroyAll.success")),this.router.navigate(["/tags"]),this.tagsListService.doFetch(this.tagsListService.filter)}catch(e){this.errorService.handle(e),this.loading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(w.a),u.Rc(L.a),u.Rc(o.b),u.Rc(S))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=i("ofXK"),R=i("bTqV"),D=i("Qu3c"),O=i("NFeN");function P(t,e){1&t&&(u.Nc(0,"button",7),u.Ic(1,"mat-icon",8),u.yd(2,"\xa0 "),u.Ic(3,"app-i18n",9),u.Mc()),2&t&&u.dd("routerLink","/tags/new")}function E(t,e){1&t&&(u.Nc(0,"button",7),u.Ic(1,"mat-icon",10),u.yd(2,"\xa0 "),u.Ic(3,"app-i18n",11),u.Mc()),2&t&&u.dd("routerLink","/tags/import")}function A(t,e){if(1&t){const t=u.Oc();u.Nc(0,"span",12),u.Nc(1,"button",13),u.Tc("click",(function(){return u.od(t),u.Xc().doDestroyAllSelected()})),u.Ic(2,"mat-icon",14),u.yd(3,"\xa0 "),u.Ic(4,"app-i18n",15),u.Mc(),u.Mc()}if(2&t){const t=u.Xc();u.dd("matTooltip",t.destroyButtonTooltip),u.wc(1),u.dd("disabled",t.destroyButtonDisabled)}}const j=function(){return["/audit-log"]},F=function(){return{entityNames:"tags"}};function C(t,e){1&t&&(u.Nc(0,"button",16),u.Ic(1,"mat-icon",17),u.yd(2,"\xa0 "),u.Ic(3,"app-i18n",18),u.Mc()),2&t&&u.dd("routerLink",u.gd(2,j))("queryParams",u.gd(3,F))}let X=(()=>{class t{constructor(t,e,i,n,o){this.service=t,this.tagsService=e,this.destroyService=i,this.auditLogService=n,this.confirmService=o}get destroyButtonDisabled(){return this.service.selectedKeys.isEmpty()||this.service.loading||this.destroyService.loading}get destroyButtonTooltip(){if(this.service.selectedKeys.isEmpty()||this.service.loading)return Object(d.d)("common.mustSelectARow")}doDestroyAllSelected(){return Object(m.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.destroyService.doDestroyAll(this.service.selectedKeys.selected)}))}get hasPermissionToAuditLogs(){return this.auditLogService.hasPermissionToRead}get hasPermissionToCreate(){return this.tagsService.hasPermissionToCreate}get hasPermissionToDestroy(){return this.tagsService.hasPermissionToDestroy}get hasPermissionToEdit(){return this.tagsService.hasPermissionToEdit}get hasPermissionToImport(){return this.tagsService.hasPermissionToImport}doExport(){return this.service.doExport()}get exportButtonDisabled(){return!this.service.hasRows||this.service.loading||this.service.exportLoading}get exportButtonTooltip(){if(!this.service.hasRows||this.service.loading)return Object(d.d)("common.noDataToExport")}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(S),u.Hc(N.a),u.Hc(M),u.Hc(x.a),u.Hc(k.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-list-toolbar"]],decls:9,vars:6,consts:[[1,"app-page-toolbar"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[3,"matTooltip",4,"ngIf"],["mat-flat-button","","color","primary",3,"routerLink","queryParams",4,"ngIf"],["color","primary","mat-flat-button","",3,"disabled","matTooltip","click"],["inline","","fontSet","far","fontIcon","fa-file-excel"],["key","common.export"],["mat-raised-button","","color","primary",3,"routerLink"],["fontSet","fas","fontIcon","fa-plus","inline",""],["key","common.new"],["inline","","fontSet","fas","fontIcon","fa-file-import"],["key","common.import"],[3,"matTooltip"],["mat-raised-button","","color","warn",3,"disabled","click"],["inline","","fontSet","far","fontIcon","fa-trash-alt"],["key","common.destroy"],["mat-flat-button","","color","primary",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.xd(1,P,4,1,"button",1),u.xd(2,E,4,1,"button",1),u.xd(3,A,5,2,"span",2),u.xd(4,C,4,4,"button",3),u.Nc(5,"button",4),u.Tc("click",(function(){return e.doExport()})),u.Ic(6,"mat-icon",5),u.yd(7,"\xa0 "),u.Ic(8,"app-i18n",6),u.Mc(),u.Mc()),2&t&&(u.wc(1),u.dd("ngIf",e.hasPermissionToCreate),u.wc(1),u.dd("ngIf",e.hasPermissionToImport),u.wc(1),u.dd("ngIf",e.hasPermissionToDestroy),u.wc(1),u.dd("ngIf",e.hasPermissionToAuditLogs),u.wc(1),u.dd("disabled",e.exportButtonDisabled)("matTooltip",e.exportButtonTooltip))},directives:[T.k,R.b,D.a,O.a,p.a,o.c],encapsulation:2}),t})();var H=i("6qfu"),K=i("3Pt+"),B=i("cscj"),z=i("kmnG"),_=i("qFsG"),q=i("vFJ8");function $(t,e){if(1&t){const t=u.Oc();u.Nc(0,"form",3,4),u.Tc("ngSubmit",(function(){return u.od(t),u.Xc().doFilter()})),u.Nc(2,"div",5),u.Nc(3,"div",6),u.Nc(4,"mat-form-field",7),u.Nc(5,"mat-label"),u.yd(6),u.Mc(),u.Ic(7,"input",8),u.Nc(8,"mat-error"),u.Ic(9,"app-validations",9),u.Mc(),u.Mc(),u.Mc(),u.Nc(10,"div",6),u.Nc(11,"mat-form-field",7),u.Nc(12,"mat-label"),u.yd(13),u.Mc(),u.Ic(14,"input",8),u.Nc(15,"mat-error"),u.Ic(16,"app-validations",9),u.Mc(),u.Mc(),u.Mc(),u.Nc(17,"div",6),u.Nc(18,"mat-form-field",7),u.Nc(19,"mat-label"),u.yd(20),u.Mc(),u.Ic(21,"input",8),u.Nc(22,"mat-error"),u.Ic(23,"app-validations",9),u.Mc(),u.Mc(),u.Mc(),u.Mc(),u.Nc(24,"div",10),u.Nc(25,"button",11),u.Ic(26,"mat-icon",12),u.yd(27,"\xa0 "),u.Ic(28,"app-i18n",13),u.Mc(),u.Nc(29,"button",14),u.Tc("click",(function(){return u.od(t),u.Xc().doReset()})),u.Ic(30,"mat-icon",15),u.yd(31,"\xa0 "),u.Ic(32,"app-i18n",16),u.Mc(),u.Mc(),u.Mc()}if(2&t){const t=u.Xc();u.dd("formGroup",t.form),u.wc(6),u.zd(t.fields.titleFR.label),u.wc(1),u.dd("formControlName",t.fields.titleFR.name),u.wc(2),u.dd("control",t.form.get(t.fields.titleFR.name))("label",t.fields.titleFR.label),u.wc(4),u.zd(t.fields.titleEN.label),u.wc(1),u.dd("formControlName",t.fields.titleEN.name),u.wc(2),u.dd("control",t.form.get(t.fields.titleEN.name))("label",t.fields.titleEN.label),u.wc(4),u.zd(t.fields.titleAR.label),u.wc(1),u.dd("formControlName",t.fields.titleAR.name),u.wc(2),u.dd("control",t.form.get(t.fields.titleAR.name))("label",t.fields.titleAR.label),u.wc(2),u.dd("disabled",t.loading),u.wc(4),u.dd("disabled",t.loading)}}let G=(()=>{class t{constructor(t,e,i){this.service=t,this.formBuilder=e,this.route=i,this.expanded=!1}ngOnInit(){return Object(m.a)(this,void 0,void 0,(function*(){this.buildSchema(),this.buildForm(),this.doFilter()}))}get fields(){return g.a.fields}get loading(){return this.service.loading}doRemove(t){this.form.get(t).setValue(null),this.expanded=!1;const e=this.schema.cast(this.form.value);return this.service.doFetch(e)}doToggleExpanded(){this.expanded=!this.expanded}doFilter(){if(!this.form.valid)return;this.expanded=!1;const t=this.schema.cast(this.form.value);return this.service.doFetch(t)}buildForm(){const{filter:t}=this.service;this.form=this.schema.buildForm(t,this.route.snapshot.queryParams)}doReset(){this.form=this.schema.buildForm(),this.doFilter(),this.expanded=!1}buildSchema(){this.schema=new H.a([this.fields.titleFR,this.fields.titleEN,this.fields.titleAR],this.formBuilder)}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(S),u.Hc(K.d),u.Hc(o.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-list-filter"]],decls:3,vars:4,consts:[[1,"filter"],[3,"values","fields","expanded","click","remove"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"row"],[1,"col-xs-12","col-lg-6"],["floatLabel","always","appearance","outline"],["matInput","",3,"formControlName"],[3,"control","label"],[1,"filter-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["inline","","fontSet","fas","fontIcon","fa-search"],["key","common.search"],["mat-flat-button","","type","button","color","accent",3,"disabled","click"],["inline","","fontSet","fas","fontIcon","fa-undo"],["key","common.reset"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.Nc(1,"app-filter-preview",1),u.Tc("click",(function(){return e.doToggleExpanded()}))("remove",(function(t){return e.doRemove(t)})),u.Mc(),u.xd(2,$,33,15,"form",2),u.Mc()),2&t&&(u.wc(1),u.dd("values",e.form.value)("fields",e.fields)("expanded",e.expanded),u.wc(1),u.dd("ngIf",e.form&&e.expanded))},directives:[B.a,T.k,K.s,K.n,K.h,z.c,z.f,_.b,K.c,K.m,K.g,z.b,q.a,R.b,O.a,p.a],encapsulation:2}),t})();var Q=i("+0xr"),U=i("Dh3D"),Z=i("M9IT"),J=i("9Zza"),V=i("n9IN");function W(t,e){if(1&t&&(u.Nc(0,"th",13),u.Ic(1,"app-table-th-checkbox",14),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.dd("rows",t.service.rows)("selectedKeys",t.service.selectedKeys)}}function Y(t,e){if(1&t&&(u.Nc(0,"td",15),u.Ic(1,"app-table-td-checkbox",16),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("row",t)("selectedKeys",i.service.selectedKeys)}}function tt(t,e){if(1&t&&(u.Nc(0,"th",17),u.yd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.Ad(" ",t.fields.titleFR.label," ")}}function et(t,e){if(1&t&&(u.Nc(0,"td",15),u.yd(1),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.Ad(" ",i.presenter(t,"titleFR")," ")}}function it(t,e){if(1&t&&(u.Nc(0,"th",17),u.yd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.Ad(" ",t.fields.titleEN.label," ")}}function nt(t,e){if(1&t&&(u.Nc(0,"td",15),u.yd(1),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.Ad(" ",i.presenter(t,"titleEN")," ")}}function ot(t,e){if(1&t&&(u.Nc(0,"th",17),u.yd(1),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.Ad(" ",t.fields.titleAR.label," ")}}function ct(t,e){if(1&t&&(u.Nc(0,"td",15),u.yd(1),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.Ad(" ",i.presenter(t,"titleAR")," ")}}function rt(t,e){1&t&&u.Ic(0,"th",13)}const st=function(t){return["/tags",t,"edit"]};function at(t,e){if(1&t&&(u.Nc(0,"button",22),u.Nc(1,"mat-icon"),u.yd(2,"edit"),u.Mc(),u.Mc()),2&t){const t=u.Xc().$implicit,e=u.Xc();u.dd("routerLink",u.hd(2,st,t.id))("matTooltip",e.i18n("common.edit"))}}function dt(t,e){if(1&t){const t=u.Oc();u.Nc(0,"button",23),u.Tc("click",(function(){u.od(t);const e=u.Xc().$implicit;return u.Xc().doDestroy(e.id)})),u.Nc(1,"mat-icon"),u.yd(2,"delete"),u.Mc(),u.Mc()}if(2&t){const t=u.Xc(2);u.dd("matTooltip",t.i18n("common.destroy"))}}const lt=function(t){return["/tags",t]};function ut(t,e){if(1&t&&(u.Nc(0,"td",18),u.Nc(1,"button",19),u.Nc(2,"mat-icon"),u.yd(3,"search"),u.Mc(),u.Mc(),u.xd(4,at,3,4,"button",20),u.xd(5,dt,3,1,"button",21),u.Mc()),2&t){const t=e.$implicit,i=u.Xc();u.wc(1),u.dd("routerLink",u.hd(4,lt,t.id))("matTooltip",i.i18n("common.view")),u.wc(3),u.dd("ngIf",i.hasPermissionToEdit),u.wc(1),u.dd("ngIf",i.hasPermissionToDestroy)}}function ht(t,e){1&t&&u.Ic(0,"tr",24)}function pt(t,e){1&t&&u.Ic(0,"tr",25)}function mt(t,e){1&t&&(u.Nc(0,"div",26),u.Ic(1,"app-i18n",27),u.Mc())}function ft(t,e){1&t&&(u.Nc(0,"div",26),u.Ic(1,"app-i18n",28),u.Mc())}const gt=function(){return[10,20,30,40]};let vt=(()=>{class t{constructor(t,e,i,n){this.service=t,this.destroyService=e,this.tagsService=i,this.confirmService=n}presenter(t,e){return g.a.presenter(t,e)}i18n(t){return Object(d.d)(t)}doDestroy(t){return Object(m.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.destroyService.doDestroy(t)}))}get hasPermissionToEdit(){return this.tagsService.hasPermissionToEdit}get hasPermissionToDestroy(){return this.tagsService.hasPermissionToDestroy}get fields(){return g.a.fields}get columns(){return["_select",this.fields.titleFR.name,this.fields.titleEN.name,this.fields.titleAR.name,"_actions"]}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(S),u.Hc(M),u.Hc(N.a),u.Hc(k.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-list-table"]],decls:22,vars:16,consts:[[1,"table-responsive"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","_select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","_actions"],["style","width: 180px; text-align: right;","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-table-message",4,"ngIf"],["showFirstLastButtons","",3,"disabled","pageIndex","pageSize","pageSizeOptions","length","page"],["mat-header-cell",""],[3,"rows","selectedKeys"],["mat-cell",""],[3,"row","selectedKeys"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"width","180px","text-align","right"],["mat-icon-button","","type","button","color","primary",2,"display","none",3,"routerLink","matTooltip"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","type","button","color","primary",3,"routerLink","matTooltip"],["mat-icon-button","","type","button","color","primary",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""],[1,"mat-table-message"],["key","table.noData"],["key","table.loading"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.Nc(1,"table",1),u.Tc("matSortChange",(function(t){return e.service.doChangeSort(t)})),u.Lc(2,2),u.xd(3,W,2,2,"th",3),u.xd(4,Y,2,2,"td",4),u.Kc(),u.Lc(5,5),u.xd(6,tt,2,1,"th",6),u.xd(7,et,2,1,"td",4),u.Kc(),u.Lc(8,5),u.xd(9,it,2,1,"th",6),u.xd(10,nt,2,1,"td",4),u.Kc(),u.Lc(11,5),u.xd(12,ot,2,1,"th",6),u.xd(13,ct,2,1,"td",4),u.Kc(),u.Lc(14,7),u.xd(15,rt,1,0,"th",3),u.xd(16,ut,6,6,"td",8),u.Kc(),u.xd(17,ht,1,0,"tr",9),u.xd(18,pt,1,0,"tr",10),u.Mc(),u.xd(19,mt,2,0,"div",11),u.xd(20,ft,2,0,"div",11),u.Mc(),u.Nc(21,"mat-paginator",12),u.Tc("page",(function(t){return e.service.doChangePagination(t)})),u.Mc()),2&t&&(u.wc(1),u.dd("dataSource",e.service.rows)("matSortActive",e.service.sorter.columnKey)("matSortDirection",e.service.sorter.order),u.wc(4),u.dd("matColumnDef",e.fields.titleFR.name),u.wc(3),u.dd("matColumnDef",e.fields.titleEN.name),u.wc(3),u.dd("matColumnDef",e.fields.titleAR.name),u.wc(6),u.dd("matHeaderRowDef",e.columns),u.wc(1),u.dd("matRowDefColumns",e.columns),u.wc(1),u.dd("ngIf",!e.service.loading&&!e.service.count),u.wc(1),u.dd("ngIf",e.service.loading),u.wc(1),u.dd("disabled",e.service.loading)("pageIndex",e.service.paginationPageIndex)("pageSize",e.service.paginationPageSize)("pageSizeOptions",u.gd(15,gt))("length",e.service.count))},directives:[Q.j,U.a,Q.c,Q.e,Q.b,Q.g,Q.i,T.k,Z.a,Q.d,J.a,Q.a,V.a,U.b,R.b,o.c,D.a,O.a,Q.f,Q.h,p.a],encapsulation:2}),t})(),bt=(()=>{class t{constructor(t){this.authService=t,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.tags.menu")]]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-list"]],decls:7,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.tags.list.title"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.Ic(3,"app-i18n",3),u.Mc(),u.Ic(4,"app-tags-list-toolbar"),u.Ic(5,"app-tags-list-filter"),u.Ic(6,"app-tags-list-table"),u.Mc()),2&t&&u.dd("items",e.breadcrumb)},directives:[h.a,p.a,X,G,vt],encapsulation:2}),t})(),yt=(()=>{class t{constructor(t,e,i){this.errorService=t,this.snackbar=e,this.router=i,this.loading=!1,this.record=null}doFind(t){return Object(m.a)(this,void 0,void 0,(function*(){try{this.record=null,this.loading=!0,this.record=yield f.a.find(t),this.loading=!1}catch(e){this.errorService.handle(e),this.record=null,this.loading=!1,this.router.navigate(["/tags"])}}))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(w.a),u.Rc(L.a),u.Rc(o.b))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wt=function(t){return["/tags",t,"edit"]};function It(t,e){if(1&t&&(u.Nc(0,"button",4),u.Ic(1,"mat-icon",5),u.yd(2,"\xa0 "),u.Ic(3,"app-i18n",6),u.Mc()),2&t){const t=u.Xc();u.dd("routerLink",u.hd(1,wt,t.record.id))}}function St(t,e){if(1&t){const t=u.Oc();u.Nc(0,"button",7),u.Tc("click",(function(){return u.od(t),u.Xc().doDestroy()})),u.Ic(1,"mat-icon",8),u.yd(2,"\xa0 "),u.Ic(3,"app-i18n",9),u.Mc()}if(2&t){const t=u.Xc();u.dd("disabled",t.destroyLoading)}}const Nt=function(){return["/audit-log"]},xt=function(t){return{entityId:t}};function kt(t,e){if(1&t&&(u.Nc(0,"button",10),u.Ic(1,"mat-icon",11),u.yd(2,"\xa0 "),u.Ic(3,"app-i18n",12),u.Mc()),2&t){const t=u.Xc();u.dd("routerLink",u.gd(2,Nt))("queryParams",u.hd(3,xt,t.record.id))}}let Lt=(()=>{class t{constructor(t,e,i,n,o){this.service=t,this.tagsService=e,this.destroyService=i,this.auditLogService=n,this.confirmService=o}doDestroy(){return Object(m.a)(this,void 0,void 0,(function*(){if(yield this.confirmService.confirm())return this.destroyService.doDestroy(this.record.id)}))}get destroyLoading(){return this.destroyService.loading}get hasPermissionToDestroy(){return this.tagsService.hasPermissionToDestroy}get hasPermissionToEdit(){return this.tagsService.hasPermissionToEdit}get hasPermissionToImport(){return this.tagsService.hasPermissionToImport}get hasPermissionToAuditLogs(){return this.auditLogService.hasPermissionToRead}get record(){return this.service.record}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(yt),u.Hc(N.a),u.Hc(M),u.Hc(x.a),u.Hc(k.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-view-toolbar"]],decls:4,vars:3,consts:[[1,"app-page-toolbar"],["mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","",3,"routerLink","queryParams",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink"],["inline","","fontSet","far","fontIcon","fa-edit"],["key","common.edit"],["mat-raised-button","","color","primary",3,"disabled","click"],["inline","","fontSet","far","fontIcon","fa-trash-alt"],["key","common.destroy"],["mat-flat-button","",3,"routerLink","queryParams"],["inline","","fontSet","fas","fontIcon","fa-history"],["key","auditLog.menu"]],template:function(t,e){1&t&&(u.Nc(0,"div",0),u.xd(1,It,4,3,"button",1),u.xd(2,St,4,1,"button",2),u.xd(3,kt,4,5,"button",3),u.Mc()),2&t&&(u.wc(1),u.dd("ngIf",e.record&&e.hasPermissionToEdit),u.wc(1),u.dd("ngIf",e.record&&e.hasPermissionToDestroy),u.wc(1),u.dd("ngIf",e.record&&e.hasPermissionToAuditLogs))},directives:[T.k,R.b,o.c,O.a,p.a],encapsulation:2}),t})();var Mt=i("Xa2L"),Tt=i("2xaH");function Rt(t,e){1&t&&(u.Nc(0,"div",6),u.Ic(1,"mat-spinner",7),u.Mc())}function Dt(t,e){if(1&t&&(u.Nc(0,"div"),u.Ic(1,"app-view-item-text",8),u.Ic(2,"app-view-item-text",8),u.Ic(3,"app-view-item-text",8),u.Mc()),2&t){const t=u.Xc();u.wc(1),u.dd("label",t.fields.titleFR.label)("value",t.presenter(t.record,"titleFR")),u.wc(1),u.dd("label",t.fields.titleEN.label)("value",t.presenter(t.record,"titleEN")),u.wc(1),u.dd("label",t.fields.titleAR.label)("value",t.presenter(t.record,"titleAR"))}}let Ot=(()=>{class t{constructor(t,e,i){this.service=t,this.route=e,this.authService=i,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.tags.menu"),"/tags"],[Object(d.d)("entities.tags.view.title")]]}ngOnInit(){return Object(m.a)(this,void 0,void 0,(function*(){yield this.service.doFind(this.route.snapshot.paramMap.get("id"))}))}presenter(t,e){return g.a.presenter(t,e)}get fields(){return g.a.fields}get loading(){return this.service.loading}get record(){return this.service.record}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(yt),u.Hc(o.a),u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-view"]],decls:7,vars:3,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.tags.view.title"],["class","app-page-spinner",4,"ngIf"],[4,"ngIf"],[1,"app-page-spinner"],["color","accent"],[3,"label","value"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.Ic(3,"app-i18n",3),u.Mc(),u.Ic(4,"app-tags-view-toolbar"),u.xd(5,Rt,2,0,"div",4),u.xd(6,Dt,4,6,"div",5),u.Mc()),2&t&&(u.dd("items",e.breadcrumb),u.wc(5),u.dd("ngIf",e.loading),u.wc(1),u.dd("ngIf",!e.loading))},directives:[h.a,p.a,Lt,T.k,Mt.b,Tt.a],encapsulation:2}),t})();var Pt=i("zdBv");let Et=(()=>{class t{constructor(t){this.authService=t,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.tags.menu"),"/tags"],[Object(d.d)("entities.tags.importer.title")]]}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-importer"]],decls:5,vars:1,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.tags.importer.title"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.Ic(3,"app-i18n",3),u.Mc(),u.Ic(4,"app-importer"),u.Mc()),2&t&&u.dd("items",e.breadcrumb)},directives:[h.a,p.a,Pt.a],encapsulation:2}),t})(),At=(()=>{class t{constructor(t,e,i){this.errorService=t,this.snackbar=e,this.router=i,this.initLoading=!1,this.saveLoading=!1,this.record=null}doInit(t){return Object(m.a)(this,void 0,void 0,(function*(){try{this.record=null,this.initLoading=!0,t&&(this.record=yield f.a.find(t)),this.initLoading=!1}catch(e){this.errorService.handle(e),this.record=null,this.initLoading=!0,this.router.navigate(["/tags"])}}))}doCreate(t){return Object(m.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield f.a.create(t),this.saveLoading=!1,this.snackbar.success(Object(d.d)("entities.tags.create.success")),this.router.navigate(["/tags"])}catch(e){this.errorService.handle(e),this.saveLoading=!1}}))}doUpdate(t,e){return Object(m.a)(this,void 0,void 0,(function*(){try{this.saveLoading=!0,yield f.a.update(t,e),this.saveLoading=!1,this.snackbar.success(Object(d.d)("entities.tags.update.success")),this.router.navigate(["/tags"])}catch(i){this.errorService.handle(i),this.saveLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(w.a),u.Rc(L.a),u.Rc(o.b))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var jt=i("xuDp");function Ft(t,e){1&t&&u.Ic(0,"app-i18n",7)}function Ct(t,e){1&t&&u.Ic(0,"app-i18n",8)}function Xt(t,e){1&t&&(u.Nc(0,"div",9),u.Ic(1,"mat-spinner",10),u.Mc())}function Ht(t,e){if(1&t){const t=u.Oc();u.Nc(0,"app-tags-form",11),u.Tc("save",(function(e){return u.od(t),u.Xc().doSave(e)}))("cancel",(function(){return u.od(t),u.Xc().doCancel()})),u.Mc()}if(2&t){const t=u.Xc();u.dd("saveLoading",t.saveLoading)("record",t.record)("isEditing",t.isEditing)("modal",!1)}}let Kt=(()=>{class t{constructor(t,e,i,n){this.service=t,this.route=e,this.router=i,this.authService=n,this.breadcrumb=[[Object(d.d)("dashboard.menu")],[Object(d.d)("entities.tags.menu"),"/tags"],[this.isEditing?Object(d.d)("entities.tags.edit.title"):Object(d.d)("entities.tags.new.title")]]}ngOnInit(){return Object(m.a)(this,void 0,void 0,(function*(){yield this.service.doInit(this.route.snapshot.paramMap.get("id"))}))}get isEditing(){return this.route.snapshot.paramMap.has("id")}get initLoading(){return this.service.initLoading}get saveLoading(){return this.service.saveLoading}get record(){return this.service.record}doSave(t){return this.isEditing?this.service.doUpdate(t.id,t.values):this.service.doCreate(t.values)}doCancel(){this.router.navigate(["/tags"])}}return t.\u0275fac=function(e){return new(e||t)(u.Hc(At),u.Hc(o.a),u.Hc(o.b),u.Hc(l.a))},t.\u0275cmp=u.Bc({type:t,selectors:[["app-tags-form-page"]],decls:7,vars:5,consts:[[3,"items"],[1,"app-content-page"],[1,"app-content-title"],["key","entities.tags.edit.title",4,"ngIf"],["key","entities.tags.new.title",4,"ngIf"],["class","app-page-spinner",4,"ngIf"],[3,"saveLoading","record","isEditing","modal","save","cancel",4,"ngIf"],["key","entities.tags.edit.title"],["key","entities.tags.new.title"],[1,"app-page-spinner"],["color","accent"],[3,"saveLoading","record","isEditing","modal","save","cancel"]],template:function(t,e){1&t&&(u.Ic(0,"app-breadcrumb",0),u.Nc(1,"div",1),u.Nc(2,"h1",2),u.xd(3,Ft,1,0,"app-i18n",3),u.xd(4,Ct,1,0,"app-i18n",4),u.Mc(),u.xd(5,Xt,2,0,"div",5),u.xd(6,Ht,1,4,"app-tags-form",6),u.Mc()),2&t&&(u.dd("items",e.breadcrumb),u.wc(3),u.dd("ngIf",e.isEditing),u.wc(1),u.dd("ngIf",!e.isEditing),u.wc(1),u.dd("ngIf",e.initLoading),u.wc(1),u.dd("ngIf",!e.initLoading))},directives:[h.a,T.k,p.a,Mt.b,jt.a],encapsulation:2}),t})();const Bt=[{path:"",component:r.a,children:[{path:":id/edit",component:Kt,canActivate:[c.a,s.a],data:{permission:a.a.values.tagsEdit}},{path:"new",component:Kt,canActivate:[c.a,s.a],data:{permission:a.a.values.tagsCreate}},{path:"import",component:Et,canActivate:[c.a,s.a],data:{permission:a.a.values.tagsImport}},{path:":id",component:Ot,canActivate:[c.a,s.a],data:{permission:a.a.values.tagsRead}},{path:"",component:bt,canActivate:[c.a,s.a],data:{permission:a.a.values.tagsRead}}]}];let zt=(()=>{class t{}return t.\u0275mod=u.Fc({type:t}),t.\u0275inj=u.Ec({factory:function(e){return new(e||t)},providers:[],imports:[[o.f.forChild(Bt)],o.f]}),t})();var _t=i("PCNd"),qt=i("jSGM");const{fields:$t}=g.a;var Gt=[$t.titleFR,$t.titleEN,$t.titleAR];let Qt=(()=>{class t extends qt.a{constructor(t){super(t,f.a.import,Gt,Object(d.d)("entities.tags.importer.fileName"),Object(d.d)("entities.tags.importer.hint"))}}return t.\u0275fac=function(e){return new(e||t)(u.Rc(w.a))},t.\u0275prov=u.Dc({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Ut=i("t9Rf");let Zt=(()=>{class t{}return t.\u0275mod=u.Fc({type:t}),t.\u0275inj=u.Ec({factory:function(e){return new(e||t)},providers:[{provide:qt.a,useClass:Qt}],imports:[[_t.a,zt,n.a,Ut.a]]}),t})()}}]);